srcdir      = @srcdir@
top_srcdir  = @top_srcdir@
include $(top_srcdir)/Rules

build = $(top_srcdir)/libtool --mode=execute $(cin2tab)

.PHONY: install clean distclean

all: all-$(OS_TYPE)

all-LINUX:
	( BIG5ENC=big5 BIG5HKENC=big5hkscs UTF8ENC=utf-8 make -f Rules make-big5 make-big5hkscs make-utf8 )

all-FREEBSD:
	( BIG5ENC=big5 make -f Rules make-big5 )

all-OPENBSD:
	( BIG5ENC=big5 make -f Rules make-big5 )

all-NETBSD:
	( BIG5ENC=big5 make -f Rules make-big5 )

all-HPUX:
	( BIG5ENC=big5 BIG5HKENC=hkbig5 make -f Rules make-big5 make-big5hkscs )

all-SOLARIS:
	( BIG5ENC=big5 make -f Rules make-big5 )


install: all install-$(OS_TYPE)

install-LINUX:
	( BIG5ENC=big5 BIG5HKENC=big5hkscs UTF8ENC=utf-8 make -f Rules install_big5 install_big5hkscs install_utf8 )

install-FREEBSD:
	( BIG5ENC=big5 make -f Rules install_big5 )

install-OPENBSD:
	( BIG5ENC=big5 make -f Rules install_big5 )

install-NETBSD:
	( BIG5ENC=big5 make -f Rules install_big5 )

install-HPUX:
	( BIG5ENC=big5 BIG5HKENC=hkbig5 make -f Rules install_big5 install_big5hkscs )

install-SOLARIS:
	( BIG5ENC=big5 make -f Rules install_big5 )


clean:
	rm -f *.tab* core
	find . -name "*.utf-8" ! -name sys.cin.utf-8 \
		! -name cj5.cin.utf-8 ! -name simplex5.cin.utf-8 \
		exec rm -f {} \;
distclean: clean
	rm -f Makefile
